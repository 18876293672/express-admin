<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Simeon Velichkov (simov)" />
    <meta name="copyright" content="Simeon Velichkov (simov)" />
    <meta name="robots" content="follow,index" />
    <meta name="title" content="Express Admin - MySql, MariaDB, SQLite and PostgreSQL database admin for NodeJS built with Express and Bootstrap" />
    <meta name="keywords" content="express admin, express, mysql, mariadb, sqlite, postgresql, pg, admin, node, nodejs, expressjs, bootstrap" lang="en-us" />
    <meta name="description" content="Express Admin - MySql, MariaDB, SQLite and PostgreSQL database admin for NodeJS built with Express and Bootstrap" />

    <title>Express Admin</title>
    
    <link href="github-wiki/css/github.css" media="all" rel="stylesheet" type="text/css" />
    <link href="github-wiki/css/github-wiki.css" media="all" rel="stylesheet" type="text/css" />
    <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
    <script src="github-wiki/js/jquery-1.9.1.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="github-wiki/js/scrollpsy.js" type="text/javascript" charset="utf-8"></script>
    <script src="github-wiki/js/github-wiki.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/events.js" type="text/javascript" charset="utf-8"></script>

    <link rel="shortcut icon" href="css/favicon.ico" />
</head>
<body>
    <div class="markdown-body">
<div class="file"><h1>
<a id="express-admin" class="anchor" href="#express-admin" aria-hidden="true"><span class="octicon octicon-link"></span></a>Express Admin</h1>

<p>Express Admin is a NodeJS tool for easy creation of user friendly administrative interface for MySQL, MariaDB, SQLite and PostgreSQL databases.</p>

<p>It's built with: <a href="http://twitter.github.io/hogan.js/">Hogan.js</a> (<a href="https://github.com/janl/mustache.js/">mustache.js</a>), <a href="http://expressjs.com/">Express</a>, <a href="https://github.com/felixge/node-mysql">mysql</a> and <a href="http://twitter.github.io/bootstrap/">Bootstrap</a>.</p>

<p>The configuration is done through hand editing <code>json</code> files, although in the future there might be some kind of a GUI tool for that.</p>

<h3>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h3>

<ul>
<li>All types of sql table relationships</li>
<li>Internationalization</li>
<li>Custom views and events</li>
<li>All kinds of browser side libraries and controls</li>
<li>All themes from <a href="http://bootswatch.com/">Bootswatch</a>
</li>
</ul>

<h3>
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h3>

<ul>
<li><a href="http://www.youtube.com/watch?v=1CdoCB96QNk">Introductory Screencast</a></li>
<li><a href="https://github.com/simov/express-admin">GitHub Repository</a></li>
<li><a href="https://github.com/simov/express-admin-examples">Examples</a></li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<h3>
<a id="get-the-module" class="anchor" href="#get-the-module" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get the module</h3>

<div class="highlight highlight-bash"><pre>$ [sudo] npm install [-g] express-admin
<span class="pl-c"><span class="pl-pdc">#</span> PostgreSQL only: run this inside the express-admin folder</span>
$ npm install pg@2.8.2
<span class="pl-c"><span class="pl-pdc">#</span> SQLite only: run this inside the express-admin folder</span>
$ npm install sqlite3@2.2.0</pre></div>

<h3>
<a id="create-a-project" class="anchor" href="#create-a-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a project</h3>

<p>Depending on how you installed it, creating a new project is as simple as</p>

<div class="highlight highlight-bash"><pre>$ admin path/to/config/dir
<span class="pl-c"><span class="pl-pdc">#</span> or</span>
$ node path/to/express-admin/app.js path/to/config/dir</pre></div>

<p>Either way the path to the configuration directory should exist. If it doesn't contains any configuration files yet, you'll be prompted to add required information for your database, server port and admin account credentials.</p>

<p>After that you can navigate to <code>http://localhost:[specified port]</code> and see your admin up and running.</p>

<p>The next step is to configure it.</p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<h3>
<a id="configjson" class="anchor" href="#configjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>config.json</h3>

<p>The application's configuration is stored inside the <code>config.json</code> file.</p>

<ul>
<li>The <code>mysql</code> key accepts any option from the <a href="https://github.com/felixge/node-mysql#connection-options">node-mysql's connection options</a>.</li>
<li>When using PostgreSQL, the <code>pg</code> key will accept any option from the <a href="https://github.com/brianc/node-postgres">node-postgres</a> connection options.</li>
<li>When using SQLite, the <code>sqlite</code> key will contain only a <code>database</code> key with the absolute path to the database set as a value.</li>
</ul>

<div class="highlight highlight-js"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>mysql<span class="pl-pds">"</span></span><span class="pl-ko">:</span> { <span class="pl-c"><span class="pl-pdc">//</span> or "pg" or "sqlite"</span>
        <span class="pl-s1"><span class="pl-pds">"</span>database<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>express-admin-examples<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>liolio<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>karamba<span class="pl-pds">"</span></span>
        <span class="pl-c"><span class="pl-pdc">//</span> "schema": "schema-name"</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>server<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-cn">3000</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>layouts<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>themes<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>languages<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>root<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/admin<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>upload<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/upload/folder<span class="pl-pds">"</span></span>
    }
}</pre></div>

<ul>
<li>
<strong>mysql | pg | sqlite</strong> - connection options

<ul>
<li>
<strong>database</strong> - name of the database to use for this connection (sqlite: absolute path to a database file)</li>
<li>
<strong>user</strong> - database user to authenticate with</li>
<li>
<strong>password</strong> - password for that database user</li>
<li>
<strong>schema</strong> - used only with PostgreSQL (default: "public")</li>
</ul>
</li>
<li>
<strong>server</strong> - server configuration

<ul>
<li>
<strong>port</strong> - the server's port number (default: 3000)</li>
</ul>
</li>
<li>
<strong>app</strong> - admin application configuration

<ul>
<li>
<strong>layouts</strong> - toggle the layout button</li>
<li>
<strong>themes</strong> - toggle the themes button</li>
<li>
<strong>languages</strong> - toggle the languages button</li>
<li>
<strong>root</strong> - root location for the admin (used <strong>only</strong> when <a href="#embedding">embedding</a>)</li>
<li>
<strong>upload</strong> - absolute path to the upload folder (default: "public/upload")</li>
</ul>
</li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<h3>
<a id="settingsjson" class="anchor" href="#settingsjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>settings.json</h3>

<p>All settings related to the default Express Admin views are set inside the <code>settings.json</code> file, which is automatically generated with default values at first start up.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>table_name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>slug<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>unique-slug<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>table_name<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>pk_name<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Verbose Name<span class="pl-pds">"</span></span>
        <span class="pl-c"><span class="pl-pdc">//</span> "schema": "name" // pg: set specific schema for this table only</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        {...}, <span class="pl-c"><span class="pl-pdc">//</span> see column definition below</span>
        <span class="pl-c"><span class="pl-pdc">//</span> { "manyToMany" ... } // see 'Many to Many' documentation</span>
    ],
    <span class="pl-s1"><span class="pl-pds">"</span>mainview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>listview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>order<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>column_name1<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>asc<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>column_name2<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>desc<span class="pl-pds">"</span></span>
        },
        <span class="pl-s1"><span class="pl-pds">"</span>page<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-cn">25</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>filter<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [<span class="pl-s1"><span class="pl-pds">"</span>column_name1<span class="pl-pds">"</span></span>, <span class="pl-s1"><span class="pl-pds">"</span>column_name2<span class="pl-pds">"</span></span> ...]
    },
    <span class="pl-s1"><span class="pl-pds">"</span>editview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>readonly<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>,
        <span class="pl-c"><span class="pl-pdc">//</span> "manyToOne": { ... }, // see 'Many to One' documentation</span>
        <span class="pl-c"><span class="pl-pdc">//</span> "oneToOne": { ... } // see 'One to One' documentation</span>
    }
}</pre></div>

<p>The <code>settings.json</code> file contains a list of objects representing the database's tables. Each <code>table</code> object have:</p>

<ul>
<li>
<strong>slug</strong> - unique slug among all other tables</li>
<li>
<strong>table</strong> - contains table's settings

<ul>
<li>
<strong>name</strong> - table's database name <em>(typically you won't change this)</em>
</li>
<li>
<strong>pk</strong> - table's primary key <em>(it will be set automatically)</em>
</li>
<li>
<strong>verbose</strong> - table's name used inside the admin's user interface</li>
</ul>
</li>
<li>
<strong>columns</strong> - array of all table's columns <em>(see below)</em>. To reorder the columns appearance cut the entire column object and paste it on the desired position in this array</li>
<li>
<strong>mainview</strong> - table's settings for the admin's editview <em>(admin's root page)</em>

<ul>
<li>
<strong>show</strong> - toggle table visibility inside the mainview's table list. Typically you want to hide tables that will be edited as <a href="#many-to-one">inlines</a> of other tables, or tables that are used as links for <a href="#many-to-many">many to many</a> relationships</li>
</ul>
</li>
<li>
<strong>listview</strong> - table's settings for the admin's listview <em>(where all the table's records are listed)</em>

<ul>
<li>
<strong>order</strong> - list of columns by which to sort and their respective order direction</li>
<li>
<strong>page</strong> - how many records to show per page</li>
<li>
<strong>filter</strong> - list of column names to enable for filtering</li>
</ul>
</li>
<li>
<strong>editview</strong> - table's settings for the admin's editview <em>(where the record is being edited)</em>

<ul>
<li>
<strong>readonly</strong> - this will omit the save and delete buttons at the bottom of the editview effectively making the table's records non editable</li>
<li>
<strong>manyToOne</strong> - see <a href="#many-to-one">many to one</a> documentation</li>
<li>
<strong>oneToOne</strong> - see <a href="#one-to-one">one to one</a> documentation</li>
</ul>
</li>
</ul>

<h4>
<a id="column" class="anchor" href="#column" aria-hidden="true"><span class="octicon octicon-link"></span></a>Column</h4>

<p>Each <code>table</code> object contains an array of colums. Each <code>column</code> object have:</p>

<div class="highlight highlight-js"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Verbose Name<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>column_name<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>varchar(45)<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>allowNull<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>defaultValue<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">null</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>listview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>editview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-c"><span class="pl-pdc">//</span> "oneToMany": { ... }, // see 'One to Many' documentation</span>
}</pre></div>

<ul>
<li>
<strong>verbose</strong> - column's name inside the admin's user interface</li>
<li>
<strong>name</strong> - column's database name <em>(typically you won't change this)</em>
</li>
<li>
<p><strong>control</strong> - one of these</p>

<div class="highlight highlight-js"><pre>{<span class="pl-s1"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> input type="text"</span>
{<span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> textarea</span>
{<span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>, <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>some-class<span class="pl-pds">"</span></span>} <span class="pl-c"><span class="pl-pdc">//</span> html editor (see the docs)</span>
{<span class="pl-s1"><span class="pl-pds">"</span>number<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> input type="number"</span>
{<span class="pl-s1"><span class="pl-pds">"</span>date<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> datepicker</span>
{<span class="pl-s1"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> timepicker</span>
{<span class="pl-s1"><span class="pl-pds">"</span>datetime<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> datetimepicker</span>
{<span class="pl-s1"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> yearpicker</span>
{<span class="pl-s1"><span class="pl-pds">"</span>file<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> input type="file" (uploads to file system)</span>
{<span class="pl-s1"><span class="pl-pds">"</span>file<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>, <span class="pl-s1"><span class="pl-pds">"</span>binary<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> input type="file" (uploads to blob|bytea fields)</span>
{<span class="pl-s1"><span class="pl-pds">"</span>radio<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>, <span class="pl-s1"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [<span class="pl-s1"><span class="pl-pds">"</span>True<span class="pl-pds">"</span></span>,<span class="pl-s1"><span class="pl-pds">"</span>False<span class="pl-pds">"</span></span>]} <span class="pl-c"><span class="pl-pdc">//</span> input type="radio"</span>
{<span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> select (used for one-to-many relationships)</span>
{<span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>, <span class="pl-s1"><span class="pl-pds">"</span>multiple<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>} <span class="pl-c"><span class="pl-pdc">//</span> select multiple (used for many-to-many relationships)</span>
{<span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>, <span class="pl-s1"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [<span class="pl-s1"><span class="pl-pds">"</span>value&amp;text<span class="pl-pds">"</span></span>,{<span class="pl-s1"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-ko">:</span><span class="pl-s1"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span>}]} <span class="pl-c"><span class="pl-pdc">//</span> select with static options</span></pre></div>
</li>
<li><p><strong>type</strong> - column's data type <em>(typically you won't change this)</em></p></li>
<li>
<strong>allowNull</strong> - allowed to be null inside the database</li>
<li>
<strong>defaultValue</strong> - currently not used</li>
<li>
<strong>listview</strong> - column's settings for the admin's listview <em>(where all the table's records are listed)</em>

<ul>
<li>
<strong>show</strong> - column's visibility inside the listview. Typically you want to see only colums that contain short and meaningful data describing the whole record clearly. Primary key columns and columns that contain large amount of text typically should be hidden in this view</li>
</ul>
</li>
<li>
<strong>editview</strong> - column's settings for the admin's editview <em>(where the record is being edited)</em>

<ul>
<li>
<strong>show</strong> - column's visibility inside the editview<br>
<strong><code>All auto increment columns should be hidden!</code></strong><br>
<strong><code>Foreign keys for inline tables should be hidden!</code></strong><br>
Columns that are not allowed to be <code>null</code> inside the database, can't be hidden here as this will result in a database error when trying to insert or update the record</li>
</ul>
</li>
<li>
<strong>oneToMany</strong> - see <a href="#one-to-many">one to many</a> documentation</li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<h3>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h3>

<p>All objects in this file are user created. The <code>public</code> key is related entirely to inclusion of custom <em>static files</em>. It's possible to have an object containing only public key in it, as well as object containing an <code>app</code> key only, or both.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>unique-key-here<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/app.js<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>slug<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>unique-slug<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Verbose Name<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>mainview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
        }
    },
    <span class="pl-s1"><span class="pl-pds">"</span>public<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>local<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/public/dir<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>css<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/global.css<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/global.js<span class="pl-pds">"</span></span>
            ]
        },
        <span class="pl-s1"><span class="pl-pds">"</span>external<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>css<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>//absolute/url/external.css<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>//absolute/url/external.js<span class="pl-pds">"</span></span>
            ]
        }
    },
    <span class="pl-s1"><span class="pl-pds">"</span>events<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/events.js<span class="pl-pds">"</span></span>
}</pre></div>

<ul>
<li>
<strong>app</strong> - expressjs application

<ul>
<li>
<strong>path</strong> - absolute path to the custom view's <code>app.js</code> file</li>
<li>
<strong>slug</strong> - entry point for all routes in this custom app</li>
<li>
<strong>verbose</strong> - view's name inside the admin's user interface</li>
<li>
<strong>mainview</strong> - settings related to the admin's mainview

<ul>
<li>
<strong>show</strong> - include/exclude from admin's list of custom views</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>public</strong> - custom static files

<ul>
<li>
<strong>local</strong> - local files

<ul>
<li>
<strong>path</strong> - absolute path to the static files location</li>
<li>
<strong>css</strong> - list of stylesheet files to be included</li>
<li>
<strong>js</strong> - list of javascript files to be included</li>
</ul>
</li>
<li>
<strong>external</strong> - external files

<ul>
<li>
<strong>css</strong> - list of stylesheet urls to be included</li>
<li>
<strong>js</strong> - list of javascript urls to be included</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>events</strong> - path to file containing event hooks</li>
</ul>

<p>See the <a href="#custom-views-apps">custom views</a> documentation and the <a href="https://github.com/simov/express-admin-examples">examples</a></p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="relationships" class="anchor" href="#relationships" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relationships</h2>

<h3>
<a id="one-to-many" class="anchor" href="#one-to-many" aria-hidden="true"><span class="octicon octicon-link"></span></a>One to Many</h3>

<p><a href="images/one-to-many.png" target="_blank"><img src="images/one-to-many.png" alt="One to Many" style="max-width:100%;"></a></p>

<ol>
<li>Inside the <code>settings.json</code> file, find the table you are looking for</li>
<li>Inside that table's columns array find the foreign key column you want to use for the relation</li>
<li>Inside that column's object insert <code>oneToMany</code> key</li>
<li>Change the column's control type to <code>select</code>
</li>
</ol>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
},
<span class="pl-s1"><span class="pl-pds">"</span>oneToMany<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>firstname<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>lastname<span class="pl-pds">"</span></span>
    ]
}</pre></div>

<blockquote>
<p>The <code>oneToMany</code> key additionally can contain a <code>schema</code> key, specifying PostgreSQL schema name for the relation table</p>
</blockquote>

<ul>
<li>
<strong>oneToMany</strong> - contains information about the table that this foreign key references

<ul>
<li>
<strong>table</strong> - name of the table that's being referenced</li>
<li>
<strong>pk</strong> - name of the referenced table primary key column <em>(can be array as well, see <a href="#compound-one-to-many">compound primary key</a> documentation)</em>
</li>
<li>
<strong>columns</strong> - array of columns to select from the referenced table</li>
</ul>
</li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="relationships" class="anchor" href="#relationships" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relationships</h2>

<h3>
<a id="many-to-many" class="anchor" href="#many-to-many" aria-hidden="true"><span class="octicon octicon-link"></span></a>Many to Many</h3>

<p><a href="images/many-to-many.png" target="_blank"><img src="images/many-to-many.png" alt="Many to Many" style="max-width:100%;"></a></p>

<ol>
<li>Inside the <code>settings.json</code> file, find the table you are looking for</li>
<li>Add the object from below inside that table's columns array</li>
</ol>

<div class="highlight highlight-js"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Recipe Types<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>recipe_type<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>multiple<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>int(11)<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>allowNull<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>listview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>editview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>manyToMany<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>link<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>recipe_has_recipe_types<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>parentPk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>recipe_id<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>childPk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>recipe_type_id<span class="pl-pds">"</span></span>
        },
        <span class="pl-s1"><span class="pl-pds">"</span>ref<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>recipe_type<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>
            ]
        }
    }
}</pre></div>

<blockquote>
<p>The <code>link</code> and the <code>ref</code> keys additionally can contain a <code>schema</code> key, specifying PostgreSQL schema name for the relation table</p>
</blockquote>

<ul>
<li>
<strong>verbose</strong> - exactly as a regular column, this is the column's name inside the admin's user interface</li>
<li>
<strong>name</strong> - should be unique name among all other columns in this table</li>
<li>
<strong>control</strong> - column's control type <em>(you won't change this)</em>
</li>
<li>
<strong>type</strong> - column's data type <em>(you won't change this)</em>
</li>
<li>
<strong>allowNull</strong> - indicates whether you'll be able to save a record without selecting any item from the referenced table or not</li>
<li>
<strong>listview</strong> - columns's settings for the admin's listview <em>(where all the table's records are listed)</em>

<ul>
<li>
<strong>show</strong> - column's visibility inside the listview</li>
</ul>
</li>
<li>
<strong>editview</strong> - columns's settings for the admin's editview <em>(where the record is being edited)</em>

<ul>
<li>
<strong>show</strong> - column's visibility inside the editview</li>
</ul>
</li>
<li>
<strong>manyToMany</strong> - indicates that this is not a regular table column

<ul>
<li>
<strong>link</strong> - linking table configuration

<ul>
<li>
<strong>table</strong> - name of the link table</li>
<li>
<strong>parentPk</strong> - name of the primary key for the parent table <em>(can be array as well)</em>
</li>
<li>
<strong>childPk</strong> - name of the primary key for the child table <em>(can be array as well)</em>
</li>
</ul>
</li>
<li>
<strong>ref</strong> - configuration about the referenced table

<ul>
<li>
<strong>table</strong> - name of the table that is being referenced</li>
<li>
<strong>pk</strong> - name of the referenced table primary key column <em>(can be array as well)</em>
</li>
<li>
<strong>columns</strong> - array of columns to select from the referenced table</li>
</ul>
</li>
</ul>
</li>
</ul>

<blockquote>
<p>The <code>link</code> table's <code>parentPk</code> and <code>childPk</code> key can be array as well.<br>
The <code>ref</code> table's <code>pk</code> key can be array as well.<br>
See <a href="#compound-many-to-many">compound primary key</a> documentation.</p>
</blockquote>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="relationships" class="anchor" href="#relationships" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relationships</h2>

<h3>
<a id="many-to-one" class="anchor" href="#many-to-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Many to One</h3>

<p><a href="images/many-to-one.png" target="_blank"><img src="images/many-to-one.png" alt="Many to One" style="max-width:100%;"></a></p>

<ol>
<li>Inside the <code>settings.json</code> file, find the table you are looking for</li>
<li>Inside that table's <code>editview</code> key add a <code>manyToOne</code> key</li>
</ol>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>manyToOne<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>repair<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>car_id<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>driver<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>car_id<span class="pl-pds">"</span></span>
}</pre></div>

<ul>
<li>
<strong>manyToOne</strong> - contains information about the tables that are referencing this one

<ul>
<li>
<strong>table:fk</strong> - list of key-value pairs where the <code>key</code> is the name of the table that is referencing this one, and the <code>value</code> is its foreign key<br>
(<code>value</code> can be array as well, see <a href="#compound-one-to-one">compound primary key</a> documentation)</li>
</ul>
</li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="relationships" class="anchor" href="#relationships" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relationships</h2>

<h3>
<a id="one-to-one" class="anchor" href="#one-to-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>One to One</h3>

<p><a href="images/one-to-one.png" target="_blank"><img src="images/one-to-one.png" alt="One to One" style="max-width:100%;"></a></p>

<ol>
<li>Inside the <code>settings.json</code> file, find the table you are looking for</li>
<li>Inside that table's <code>editview</code> key add a <code>oneToOne</code> key</li>
</ol>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>oneToOne<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>address<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>user_id<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>phone<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>user_id<span class="pl-pds">"</span></span>
}</pre></div>

<ul>
<li>
<strong>oneToOne</strong> - contains information about the tables that are referencing this one

<ul>
<li>
<strong>table:fk</strong> - list of key-value pairs where the <code>key</code> is the name of the table that is referencing this one, and the <code>value</code> is its foreign key<br>
(<code>value</code> can be array as well, see <a href="#compound-one-to-one">compound primary key</a> documentation)</li>
</ul>
</li>
</ul>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="compound-primary-key" class="anchor" href="#compound-primary-key" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compound Primary Key</h2>

<p><a href="images/compound-primary-key.png" target="_blank"><img src="images/compound-primary-key.png" alt="Compound Primary Key" style="max-width:100%;"></a></p>

<p>Inside the <code>settings.json</code> file each table can be configured to have multiple primary keys through its <code>pk</code> field <em>(set automatically on project's first run)</em></p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>tbl<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>id1<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>id2<span class="pl-pds">"</span></span>
    ],
    <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>tbl<span class="pl-pds">"</span></span>
}</pre></div>

<h3>
<a id="compound-one-to-many" class="anchor" href="#compound-one-to-many" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compound One to Many</h3>

<p><a href="images/compound-one-to-many.png" target="_blank"><img src="images/compound-one-to-many.png" alt="Compound One to Many" style="max-width:100%;"></a></p>

<p>In case One to Many table relationship is referenced by multiple foreign keys, the regular <a href="#one-to-many">One to Many</a> setting can't be used, as it expects to be put inside an existing column inside the <code>settings.json</code> file.</p>

<p>Therefore the following <em>fake</em> column entry must be added to the <code>columns</code> array <em>(similar to how <a href="#many-to-many">Many to Many</a> relationship is configured)</em></p>

<p>The <code>fk</code> key specifies the foreign keys in this table that are referencing the other one.</p>

<div class="highlight highlight-js"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>otm<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>otm<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>varchar(45)<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>allowNull<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>listview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>editview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>fk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>otm_id1<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>otm_id2<span class="pl-pds">"</span></span>
    ],
    <span class="pl-s1"><span class="pl-pds">"</span>oneToMany<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>otm<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
            <span class="pl-s1"><span class="pl-pds">"</span>id1<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>id2<span class="pl-pds">"</span></span>
        ],
        <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
            <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>
        ]
    }
}</pre></div>

<h3>
<a id="compound-many-to-many" class="anchor" href="#compound-many-to-many" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compound Many to Many</h3>

<p><a href="images/compound-many-to-many.png" target="_blank"><img src="images/compound-many-to-many.png" alt="Compound Many to Many" style="max-width:100%;"></a></p>

<p>In case tables with multiple primary keys are part of a Many to Many table relationship, the regular <a href="#many-to-many">Many to Many</a> setting is used, but additionally the <code>parentPk</code> and <code>childPk</code> keys inside the <code>link</code> table, and the <code>pk</code> key inside the <code>ref</code> table, can be set to array of foreign and primary keys respectively to accommodate that design.</p>

<div class="highlight highlight-js"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>mtm<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>mtm<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>select<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>multiple<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>varchar(45)<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>allowNull<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">false</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>listview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>editview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
    },
    <span class="pl-s1"><span class="pl-pds">"</span>manyToMany<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>link<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>tbl_has_mtm<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>parentPk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>tbl_id1<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>tbl_id2<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s1"><span class="pl-pds">"</span>childPk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>mtm_id1<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>mtm_id2<span class="pl-pds">"</span></span>
            ]
        },
        <span class="pl-s1"><span class="pl-pds">"</span>ref<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>table<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>mtm<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>pk<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>id1<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>id2<span class="pl-pds">"</span></span>
            ],
            <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>
            ]
        }
    }
}</pre></div>

<h3>
<a id="compound-many-to-one" class="anchor" href="#compound-many-to-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compound Many to One</h3>

<p><a href="images/compound-many-to-one.png" target="_blank"><img src="images/compound-many-to-one.png" alt="Compound Many to One" style="max-width:100%;"></a></p>

<p>Same as the regular <a href="#many-to-one">Many to One</a> setting, but additionally the value for each table listed there can be set to array of foreign keys referencing this table.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>manyToOne<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>mto<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>tbl_id1<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>tbl_id2<span class="pl-pds">"</span></span>
    ]
}</pre></div>

<h3>
<a id="compound-one-to-one" class="anchor" href="#compound-one-to-one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compound One to One</h3>

<p>Same as the regular <a href="#one-to-one">one to One</a> setting, but additionally the value for each table listed there can be set to array of foreign keys referencing this table.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>oneToOne<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>oto<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>tbl_id1<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>tbl_id2<span class="pl-pds">"</span></span>
    ]
}</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="editors" class="anchor" href="#editors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editors</h2>

<h3>
<a id="ckeditor" class="anchor" href="#ckeditor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CKEditor</h3>

<h4>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h4>

<p>You should either download CKEditor from <a href="http://ckeditor.com">ckeditor.com</a> or use it directly from <a href="http://cdnjs.com">cdnjs.com</a> <em>//cdnjs.cloudflare.com/ajax/libs/ckeditor/4.4.1/ckeditor.js</em></p>

<h4>
<a id="settingsjson" class="anchor" href="#settingsjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>settings.json</h4>

<p>Inside the <code>settings.json</code> file, find the column you are looking for, and add an additional <code>editor</code> property to its <code>control</code> type key, specifying the class name to use for this instance.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>class-name<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h4>

<p>Inside the <code>custom.json</code> file add a unique key for your custom stuff.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>unique-key-here<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>public<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>local<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/files/location<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/ckeditor/ckeditor.js<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/my-custom.js<span class="pl-pds">"</span></span>
            ]
        }
    }
}</pre></div>

<ul>
<li>
<strong>public</strong> - static files configuration

<ul>
<li>
<strong>path</strong> - absolute path to the static files location</li>
<li>
<strong>css</strong> - list of stylesheet files to be included</li>
<li>
<strong>js</strong> - list of javascript files to be included</li>
</ul>
</li>
</ul>

<h4>
<a id="my-customjs" class="anchor" href="#my-customjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>my-custom.js</h4>

<p>Your custom editor is initialized here. It's just plain javascript/jquery code, and you can write whatever you want to. However there are a few requirements.</p>

<div class="highlight highlight-js"><pre>$(<span class="pl-s">function</span> () {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> CKEDITOR <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        CKEDITOR.replaceAll(<span class="pl-s">function</span> (<span class="pl-vpf">textarea</span>, <span class="pl-vpf">config</span>) {
            <span class="pl-c"><span class="pl-pdc">//</span> exclude textareas that are inside hidden inline rows</span>
            <span class="pl-k">if</span> ($(textarea).parents(<span class="pl-s1"><span class="pl-pds">'</span>tr<span class="pl-pds">'</span></span>).hasClass(<span class="pl-s1"><span class="pl-pds">'</span>blank<span class="pl-pds">'</span></span>)) <span class="pl-k">return</span> <span class="pl-c1">false</span>;
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will get the default configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>class-name<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>) <span class="pl-k">return</span> <span class="pl-c1">true</span>;
            <span class="pl-c"><span class="pl-pdc">//</span> all other textareas won't be initialized as ckeditors</span>
            <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        });
    }
});

<span class="pl-c"><span class="pl-pdc">//</span> executed each time an inline is added</span>
<span class="pl-s">function</span> <span class="pl-enf">onAddInline</span> (<span class="pl-vpf">rows</span>) {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> CKEDITOR <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> for each of the new rows containing textareas</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>textarea<span class="pl-pds">'</span></span>, rows).each(<span class="pl-s">function</span> (<span class="pl-vpf">index</span>) {
            <span class="pl-c"><span class="pl-pdc">//</span> get the DOM instance</span>
            <span class="pl-s">var</span> textarea <span class="pl-ko">=</span> $(<span class="pl-v">this</span>)[<span class="pl-cn">0</span>];
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will get the default configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>class-name<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>) <span class="pl-k">return</span> CKEDITOR.<span class="pl-sf">replace</span>(textarea);
            <span class="pl-c"><span class="pl-pdc">//</span> all other textareas won't be initialized as ckeditors</span>
            <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        });
    }
}</pre></div>

<p>Here <code>class-name</code> is the same class name you specified inside the <code>settings.json</code> file for this column.</p>

<p>The <code>CKEDITOR.replaceAll</code> method loops throgh all textareas on the page and filter out only to those that needs to be initialized as ckeditors. The most important bit is that you should always exclude the textareas that are contained inside the hidden row for an inline record. That's easy because all of them have a <code>blank</code> class on their containing row.</p>

<p>The hidden textareas are initialized when they are appended to the document body. The <code>onAddInline</code> is an event like global function that is called each time an inline record is appended to the list of records. The <code>rows</code> parameters contain all table rows that's been added. Again we loop through all of them and initialize only those textareas that have the class we specified in <code>settings.json</code></p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="editors" class="anchor" href="#editors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editors</h2>

<h3>
<a id="tinymce" class="anchor" href="#tinymce" aria-hidden="true"><span class="octicon octicon-link"></span></a>TinyMCE</h3>

<h4>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h4>

<p>You should either download TinyMCE from <a href="http://www.tinymce.com">tinymce.com</a> or use it directly from <a href="http://cdnjs.com">cdnjs.com</a> <em>//cdnjs.cloudflare.com/ajax/libs/tinymce/4.1.4/tinymce.min.js</em></p>

<h4>
<a id="settingsjson" class="anchor" href="#settingsjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>settings.json</h4>

<p>Inside the <code>settings.json</code> file, find the column you are looking for, and add an additional <code>editor</code> property to its <code>control</code> type key, specifying the class name to use for this instance.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>class-name<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h4>

<p>Inside the <code>custom.json</code> file add a unique key for your custom stuff.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>unique-key-here<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>public<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>local<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/files/location<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/tinymce/jscripts/tiny_mce/tiny_mce.js<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/tinymce/jscripts/tiny_mce/jquery.tinymce.min.js<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/my-custom.js<span class="pl-pds">"</span></span>
            ]
        }
    }
}</pre></div>

<ul>
<li>
<strong>public</strong> - static files configuration

<ul>
<li>
<strong>path</strong> - absolute path to the static files location</li>
<li>
<strong>css</strong> - list of stylesheet files to be included</li>
<li>
<strong>js</strong> - list of javascript files to be included</li>
</ul>
</li>
</ul>

<h4>
<a id="my-customjs" class="anchor" href="#my-customjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>my-custom.js</h4>

<p>Your custom editor is initialized here. It's just plain javascript/jquery code, and you can write whatever you want to. However there are a few requirements.</p>

<div class="highlight highlight-js"><pre>$(<span class="pl-s">function</span> () {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> tinyMCE <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> it's important to initialize only the visible textareas</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>tr:not(.blank) .class-name<span class="pl-pds">'</span></span>).tinymce({});
    }
});

<span class="pl-c"><span class="pl-pdc">//</span> executed each time an inline is added</span>
<span class="pl-s">function</span> <span class="pl-enf">onAddInline</span> (<span class="pl-vpf">rows</span>) {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> tinyMCE <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> init tinymce editors</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>.class-name<span class="pl-pds">'</span></span>, rows).tinymce({});
    }
}</pre></div>

<p>Here <code>class-name</code> is the same class name you specified inside the <code>settings.json</code> file for this column.</p>

<p>The <code>tr:not(.blank) .tinymce</code> selector filters out only to those textareas that have the <code>class-name</code> we specified in <code>settings.json</code>, but not contained inside a hidden row. The most important bit is that you should always exclude the textareas that are contained inside the hidden row for an inline record. That's easy because all of them have a <code>blank</code> class on their containing row.</p>

<p>The hidden textareas are initialized when they are appended to the document body. The <code>onAddInline</code> is an event like global function that is called each time an inline record is appended to the list of records. The <code>rows</code> parameters contain all table rows that's been added. Again we loop through all of them and initialize only those textareas that have the class we specified in <code>settings.json</code></p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="editors" class="anchor" href="#editors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editors</h2>

<h3>
<a id="multiple" class="anchor" href="#multiple" aria-hidden="true"><span class="octicon octicon-link"></span></a>Multiple</h3>

<h4>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h4>

<p>You should either download CKEditor and TinyMCE from their official site <a href="http://ckeditor.com">ckedtor.com</a> and <a href="http://www.tinymce.com">tinymce.com</a> or use them directly from <a href="http://cdnjs.com">cdnjs.com</a></p>

<h4>
<a id="settingsjson" class="anchor" href="#settingsjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>settings.json</h4>

<p>Inside the <code>settings.json</code> file, find the columns you are looking for, and add an additional <code>editor</code> property to each column's <code>control</code> type key, specifying the class name to use for this instance.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>ck-full<span class="pl-pds">"</span></span>
}</pre></div>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>ck-compact<span class="pl-pds">"</span></span>
}</pre></div>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>control<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>textarea<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>editor<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>tinymce<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h4>

<p>Inside the <code>custom.json</code> file add a unique key for your custom stuff.</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>unique-key-here<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>public<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>external<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>//cdnjs.cloudflare.com/ajax/libs/ckeditor/4.4.1/ckeditor.js<span class="pl-pds">"</span></span>
            ]
        },
        <span class="pl-s1"><span class="pl-pds">"</span>local<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/files/location<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>js<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/tinymce/jscripts/tiny_mce/tiny_mce.js<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/tinymce/jscripts/tiny_mce/jquery.tinymce.min.js<span class="pl-pds">"</span></span>,
                <span class="pl-s1"><span class="pl-pds">"</span>/relative/to/above/path/my-custom.js<span class="pl-pds">"</span></span>
            ]
        }
    }
}</pre></div>

<ul>
<li>
<strong>public</strong> - static files configuration

<ul>
<li>
<strong>path</strong> - absolute path to the static files location</li>
<li>
<strong>css</strong> - list of stylesheet files to be included</li>
<li>
<strong>js</strong> - list of javascript files to be included</li>
</ul>
</li>
</ul>

<h4>
<a id="my-customjs" class="anchor" href="#my-customjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>my-custom.js</h4>

<p>Your custom editors are initialized here. It's just plain javascript/jquery code, and you can write whatever you want to. However there are a few requirements.</p>

<div class="highlight highlight-js"><pre>$(<span class="pl-s">function</span> () {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> CKEDITOR <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        CKEDITOR.replaceAll(<span class="pl-s">function</span> (<span class="pl-vpf">textarea</span>, <span class="pl-vpf">config</span>) {
            <span class="pl-c"><span class="pl-pdc">//</span> exclude textareas that are inside hidden inline rows</span>
            <span class="pl-k">if</span> ($(textarea).parents(<span class="pl-s1"><span class="pl-pds">'</span>tr<span class="pl-pds">'</span></span>).hasClass(<span class="pl-s1"><span class="pl-pds">'</span>blank<span class="pl-pds">'</span></span>)) <span class="pl-k">return</span> <span class="pl-c1">false</span>;
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will get the default configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>ck-full<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>) <span class="pl-k">return</span> <span class="pl-c1">true</span>;
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will have custom configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>ck-compact<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>)
                <span class="pl-k">return</span> setCustomConfig(config);
            <span class="pl-c"><span class="pl-pdc">//</span> all other textareas won't be initialized as ckeditors</span>
            <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        });
    }

    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> tinyMCE <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> it's important to initialize only the visible textareas</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>tr:not(.blank) .tinymce<span class="pl-pds">'</span></span>).tinymce({});
    }
});

<span class="pl-c"><span class="pl-pdc">//</span> ckeditor only</span>
<span class="pl-s">function</span> <span class="pl-enf">setCustomConfig</span> (<span class="pl-vpf">config</span>) {
    config <span class="pl-ko">=</span> config <span class="pl-ko">||</span> {};
    <span class="pl-c"><span class="pl-pdc">//</span> toolbar</span>
    config.toolbarGroups <span class="pl-ko">=</span> [
        { name<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span>basicstyles<span class="pl-pds">'</span></span>, groups<span class="pl-ko">:</span> [ <span class="pl-s1"><span class="pl-pds">'</span>basicstyles<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>cleanup<span class="pl-pds">'</span></span> ] },
        { name<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span>paragraph<span class="pl-pds">'</span></span>,   groups<span class="pl-ko">:</span> [ <span class="pl-s1"><span class="pl-pds">'</span>list<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>indent<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>blocks<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>align<span class="pl-pds">'</span></span> ] },
        <span class="pl-s1"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>,
        { name<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span>styles<span class="pl-pds">'</span></span> },
        { name<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span>colors<span class="pl-pds">'</span></span> }
    ];
    config.removeButtons <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span>Smiley,SpecialChar,PageBreak,Iframe,CreateDiv<span class="pl-pds">'</span></span>;
    <span class="pl-k">return</span> config;
}

<span class="pl-c"><span class="pl-pdc">//</span> executed each time an inline is added</span>
<span class="pl-s">function</span> <span class="pl-enf">onAddInline</span> (<span class="pl-vpf">rows</span>) {
    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> CKEDITOR <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> for each of the new rows containing textareas</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>textarea<span class="pl-pds">'</span></span>, rows).each(<span class="pl-s">function</span> (<span class="pl-vpf">index</span>) {
            <span class="pl-c"><span class="pl-pdc">//</span> get the DOM instance</span>
            <span class="pl-s">var</span> textarea <span class="pl-ko">=</span> $(<span class="pl-v">this</span>)[<span class="pl-cn">0</span>];
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will get the default configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>ck-full<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>) <span class="pl-k">return</span> CKEDITOR.<span class="pl-sf">replace</span>(textarea);
            <span class="pl-c"><span class="pl-pdc">//</span> textareas with this class name will have custom configuration</span>
            <span class="pl-k">if</span> (textarea.className.<span class="pl-sf">indexOf</span>(<span class="pl-s1"><span class="pl-pds">'</span>ck-compact<span class="pl-pds">'</span></span>) <span class="pl-ko">!=</span> <span class="pl-ko">-</span><span class="pl-cn">1</span>)
                <span class="pl-k">return</span> CKEDITOR.<span class="pl-sf">replace</span>(textarea, setCustomConfig());
            <span class="pl-c"><span class="pl-pdc">//</span> all other textareas won't be initialized as ckeditors</span>
            <span class="pl-k">return</span> <span class="pl-c1">false</span>;
        });
    }

    <span class="pl-k">if</span> (<span class="pl-ko">typeof</span> tinyMCE <span class="pl-ko">!==</span> <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> init tinymce editors</span>
        $(<span class="pl-s1"><span class="pl-pds">'</span>.tinymce<span class="pl-pds">'</span></span>, rows).tinymce({});
    }
}</pre></div>

<p>Here based on a specific <code>class-name</code> specified for each column inside the <code>settings.json</code> file, the corresponding textarea is initialized accordingly.</p>

<p>The <code>CKEDITOR.replaceAll</code> method loops throgh all textareas on the page and filter out only to those that needs to be initialized as ckeditors. The most important bit is that you should always exclude the textareas that are contained inside the hidden row for an inline record. That's easy because all of them have a <code>blank</code> class on their containing row.</p>

<p>The <code>tr:not(.blank) .tinymce</code> selector filters out only to those textareas that have the <code>class-name</code> we specified in <code>settings.json</code>, but not contained inside a hidden row. The most important bit is that you should always exclude the textareas that are contained inside the hidden row for an inline record. That's easy because all of them have a <code>blank</code> class on their containing row.</p>

<p>The hidden textareas are initialized when they are appended to the document body. The <code>onAddInline</code> is an event like global function that is called each time an inline record is appended to the list of records. The <code>rows</code> parameters contain all table rows that's been added. Again we loop through all of them and initialize only those textareas that have the class we specified in <code>settings.json</code></p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="custom-views-apps" class="anchor" href="#custom-views-apps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom views (apps)</h2>

<p>The admin's custom views follow the <a href="http://vimeo.com/56166857">Modular web applications with Node.js and Express</a> approach presented by <a href="https://github.com/visionmedia">TJ Holowaychuk</a>.</p>

<p>The only difference here is that we're dealing with <code>mustache</code> templates.</p>

<h3>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h3>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>view1<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>path<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/app.js<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>slug<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>view1<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>verbose<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>My Custom View<span class="pl-pds">"</span></span>,
        <span class="pl-s1"><span class="pl-pds">"</span>mainview<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>show<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-c1">true</span>
        }
    }
}</pre></div>

<h3>
<a id="appjs" class="anchor" href="#appjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>app.js</h3>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> express <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>express<span class="pl-pds">'</span></span>);
<span class="pl-s">var</span> app <span class="pl-ko">=</span> module.exports <span class="pl-ko">=</span> express();
<span class="pl-s">var</span> path <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>path<span class="pl-pds">'</span></span>);

<span class="pl-c"><span class="pl-pdc">//</span> set your custom views path</span>
app.set(<span class="pl-s1"><span class="pl-pds">'</span>views<span class="pl-pds">'</span></span>, path.<span class="pl-sf">join</span>(__dirname, <span class="pl-s1"><span class="pl-pds">'</span>views<span class="pl-pds">'</span></span>));

app.get(<span class="pl-s1"><span class="pl-pds">'</span>/view1<span class="pl-pds">'</span></span>, <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">next</span>) {

    <span class="pl-c"><span class="pl-pdc">//</span> create a realtive from the admin's view folder to your custom folder</span>
    <span class="pl-s">var</span> relative <span class="pl-ko">=</span> path.relative(res.locals._admin.views, app.get(<span class="pl-s1"><span class="pl-pds">'</span>views<span class="pl-pds">'</span></span>));

    res.locals.partials <span class="pl-ko">=</span> {

        <span class="pl-c"><span class="pl-pdc">//</span> set the path to your templates like this</span>
        <span class="pl-c"><span class="pl-pdc">//</span> the content partial is declared inside the admin's base.html</span>
        <span class="pl-c"><span class="pl-pdc">//</span> this is the entry point for all your custom stuff</span>
        content<span class="pl-ko">:</span> path.<span class="pl-sf">join</span>(relative, <span class="pl-s1"><span class="pl-pds">'</span>template<span class="pl-pds">'</span></span>)
    };

    <span class="pl-c"><span class="pl-pdc">//</span> typically you want your stuff to be rendered inside the admin's UI</span>
    <span class="pl-c"><span class="pl-pdc">//</span> so no need to render here</span>
    next();
});</pre></div>

<p>You should definitely run the examples from the <a href="https://github.com/simov/express-admin-examples">examples repository</a> as each of the custom views (apps) presented there is really well commented.</p>

<h3>
<a id="route-wide-variables" class="anchor" href="#route-wide-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Route wide variables</h3>

<p>Several variables are exposed to every route callback.</p>

<div class="highlight highlight-js"><pre><span class="pl-c"><span class="pl-pdc">//</span> _admin's variable content is for internal purposes only and is not being rendered</span>
res.locals._admin.db.connection<span class="pl-c"><span class="pl-pdc">//</span> the admin's database connection can be reused from here</span>
res.locals._admin.config       <span class="pl-c"><span class="pl-pdc">//</span> the contents of the config.json file</span>
res.locals._admin.settings     <span class="pl-c"><span class="pl-pdc">//</span> the contents of the settings.json file</span>
res.locals._admin.custom       <span class="pl-c"><span class="pl-pdc">//</span> the contents of the custom.json file</span>
res.locals._admin.users        <span class="pl-c"><span class="pl-pdc">//</span> the contents of the users.json file</span>

<span class="pl-c"><span class="pl-pdc">//</span> shortcut variables that are being rendered</span>
res.locals.libs       <span class="pl-c"><span class="pl-pdc">//</span> list of all client side libraries</span>
res.locals.themes     <span class="pl-c"><span class="pl-pdc">//</span> list of all themes</span>
res.locals.layouts    <span class="pl-c"><span class="pl-pdc">//</span> flag indicating layouts button visibility</span>
res.locals.languages  <span class="pl-c"><span class="pl-pdc">//</span> list of all languages</span>

<span class="pl-c"><span class="pl-pdc">//</span> holds the absolute path to the admin's view directory</span>
res.locals._admin.views</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h2>

<p>Currently the supported event hooks are:</p>

<ul>
<li>
<strong>preSave</strong> - before a record is saved</li>
<li>
<strong>postSave</strong> - after a record is saved</li>
<li>
<strong>preList</strong> - before listview is shown</li>
</ul>

<h3>
<a id="customjson" class="anchor" href="#customjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>custom.json</h3>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>some-key<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>events<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/absolute/path/to/custom/events.js<span class="pl-pds">"</span></span>
}</pre></div>

<h3>
<a id="eventsjs" class="anchor" href="#eventsjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>events.js</h3>

<p>Run the admin with the <code>--debug-brk</code> flag and use <a href="https://github.com/node-inspector/node-inspector">node-inspector</a> to drill down into the event hook parameters</p>

<div class="highlight highlight-js"><pre><span class="pl-sc">exports</span>.<span class="pl-enf">preSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.debug) console<span class="pl-sf">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>preSave<span class="pl-pds">'</span></span>);
    <span class="pl-k">debugger</span>;
    next();
}
<span class="pl-sc">exports</span>.<span class="pl-enf">postSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.debug) console<span class="pl-sf">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>postSave<span class="pl-pds">'</span></span>);
    <span class="pl-k">debugger</span>;
    next();
}</pre></div>

<p>Take a look at the event examples <a href="https://github.com/simov/express-admin-examples/blob/master/config/custom/events/events.js">here</a> and <a href="https://github.com/simov/express-admin-tests/blob/master/config/x-relationships-compound/custom/events.js">here</a></p>

<h3>
<a id="presave-args" class="anchor" href="#presave-args" aria-hidden="true"><span class="octicon octicon-link"></span></a>preSave args</h3>

<ul>
<li>
<strong>action</strong> - <code>insert|update|remove</code>
</li>
<li>
<strong>name</strong> - this table's name</li>
<li>
<strong>slug</strong> - this table's slug</li>
<li>
<p><strong>data</strong> - data submitted via POST request or select'ed from the database</p>

<ul>
<li>
<strong>view</strong> - this table's data (the one currently shown inside the <em>editview</em>)</li>
<li>
<p><strong>oneToOne | manyToOne</strong> - inline tables data</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>table's name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>records<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {<span class="pl-s1"><span class="pl-pds">"</span>column's name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>column's value<span class="pl-pds">"</span></span>, ...},
        <span class="pl-s1"><span class="pl-pds">"</span>insert|update|remove<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-pdc">//</span> only for inline records</span>
    ]
}</pre></div>
</li>
</ul>
</li>
<li>
<strong>upath</strong> - absolute path to the upload folder location</li>
<li>
<strong>upload</strong> - list of files submitted via POST request</li>
<li>
<strong>db</strong> - database connection instance</li>
</ul>

<h4>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>examples</h4>

<h5>
<a id="created_at--updated_at" class="anchor" href="#created_at--updated_at" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>created_at / updated_at</em>
</h5>

<ul>
<li>in this example our table will be called <code>user</code>
</li>
<li>the <code>created_at</code> and <code>update_at</code> columns in <code>user</code> table should be set to <code>show: false</code> for <code>editview</code> in <code>settings.json</code>
</li>
<li>use the code below to set the <code>created_at</code> and <code>updated_at</code> columns, before the record is saved</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> moment <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>moment<span class="pl-pds">'</span></span>);

<span class="pl-sc">exports</span>.<span class="pl-enf">preSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.name <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>) {
        <span class="pl-s">var</span> now <span class="pl-ko">=</span> moment(<span class="pl-ko">new</span> <span class="pl-enti">Date</span>()).format(<span class="pl-s1"><span class="pl-pds">'</span>YYYY-MM-DD hh:mm:ss<span class="pl-pds">'</span></span>),
            record <span class="pl-ko">=</span> args.data.view.user.records[<span class="pl-cn">0</span>].columns;
        <span class="pl-k">if</span> (args.action <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>insert<span class="pl-pds">'</span></span>) {
            record.created_at <span class="pl-ko">=</span> now;
            record.updated_at <span class="pl-ko">=</span> now;
        }
        <span class="pl-k">else</span> <span class="pl-k">if</span> (args.action <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>update<span class="pl-pds">'</span></span>) {
            record.updated_at <span class="pl-ko">=</span> now;
        }
    }
    next();
}</pre></div>

<h5>
<a id="generate-hash-id" class="anchor" href="#generate-hash-id" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>generate hash id</em>
</h5>

<ul>
<li>in this example our table will be called <code>car</code> and will contain <code>manyToOne</code> inline tables</li>
<li>the car's table primary key that needs to be generated (in this case it's called <code>id</code>) should be set to <code>show: false</code> for <code>editview</code> in <code>settings.json</code> (the same applies for any inline table that needs its primary key to be generated)</li>
<li>use the code below to set the columns that needs to be generated, before the record is saved</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> shortid <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>shortid<span class="pl-pds">'</span></span>);

<span class="pl-sc">exports</span>.<span class="pl-enf">preSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.name <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>car<span class="pl-pds">'</span></span>) {
        <span class="pl-k">if</span> (args.action <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>insert<span class="pl-pds">'</span></span>) {
            <span class="pl-s">var</span> table <span class="pl-ko">=</span> args.name,
                record <span class="pl-ko">=</span> args.data.view[table].records[<span class="pl-cn">0</span>].columns;
            record.id <span class="pl-ko">=</span> shortid.generate();
        }
        <span class="pl-k">for</span> (<span class="pl-s">var</span> table <span class="pl-ko">in</span> args.data.manyToOne) {
            <span class="pl-s">var</span> inline <span class="pl-ko">=</span> args.data.manyToOne[table];
            <span class="pl-k">if</span> (<span class="pl-ko">!</span>inline.records) <span class="pl-k">continue</span>;
            <span class="pl-k">for</span> (<span class="pl-s">var</span> i<span class="pl-ko">=</span><span class="pl-cn">0</span>; i <span class="pl-ko">&lt;</span> inline.records.length; i<span class="pl-ko">++</span>) {
                <span class="pl-k">if</span> (inline.records[i].insert <span class="pl-ko">!=</span> <span class="pl-s1"><span class="pl-pds">'</span>true<span class="pl-pds">'</span></span>) <span class="pl-k">continue</span>;
                inline.records[i].columns.id <span class="pl-ko">=</span> shortid.generate();
            }
        }
    }
    next();
}</pre></div>

<h5>
<a id="soft-delete-records" class="anchor" href="#soft-delete-records" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>soft delete records</em>
</h5>

<ul>
<li>in this example our table will be called <code>purchase</code> and will contain <code>manyToOne</code> inline tables</li>
<li>the purchase's table <code>deleted</code> and <code>deleted_at</code> columns should be set to <code>show: false</code> for <code>editview</code> in <code>settings.json</code>
</li>
<li>use the code below to set the <code>deleted</code> and <code>deleted_at</code> columns, before the record is saved</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> moment <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>moment<span class="pl-pds">'</span></span>);

<span class="pl-sc">exports</span>.<span class="pl-enf">preSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.name <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>purchase<span class="pl-pds">'</span></span>) {
        <span class="pl-s">var</span> now <span class="pl-ko">=</span> moment(<span class="pl-ko">new</span> <span class="pl-enti">Date</span>()).format(<span class="pl-s1"><span class="pl-pds">'</span>YYYY-MM-DD hh:mm:ss<span class="pl-pds">'</span></span>);
        <span class="pl-c"><span class="pl-pdc">//</span> all inline oneToOne and manyToOne records should be marked as deleted</span>
        <span class="pl-k">for</span> (<span class="pl-s">var</span> table <span class="pl-ko">in</span> args.data.manyToOne) {
            <span class="pl-s">var</span> inline <span class="pl-ko">=</span> args.data.manyToOne[table];
            <span class="pl-k">if</span> (<span class="pl-ko">!</span>inline.records) <span class="pl-k">continue</span>;
            <span class="pl-k">for</span> (<span class="pl-s">var</span> i<span class="pl-ko">=</span><span class="pl-cn">0</span>; i <span class="pl-ko">&lt;</span> inline.records.length; i<span class="pl-ko">++</span>) {
                <span class="pl-k">if</span> (args.action <span class="pl-ko">!=</span> <span class="pl-s1"><span class="pl-pds">'</span>remove<span class="pl-pds">'</span></span> <span class="pl-ko">&amp;&amp;</span> <span class="pl-ko">!</span>inline.records[i].remove) <span class="pl-k">continue</span>;
                <span class="pl-c"><span class="pl-pdc">//</span> instead of deleting the record</span>
                <span class="pl-ko">delete</span> inline.records[i].remove;
                <span class="pl-c"><span class="pl-pdc">//</span> update it</span>
                inline.records[i].columns.deleted <span class="pl-ko">=</span> <span class="pl-c1">true</span>;
                inline.records[i].columns.deleted_at <span class="pl-ko">=</span> now;
            }
        }
        <span class="pl-c"><span class="pl-pdc">//</span> parent record</span>
        <span class="pl-k">if</span> (args.action <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>remove<span class="pl-pds">'</span></span>) {
            <span class="pl-c"><span class="pl-pdc">//</span> instead of deleting the record</span>
            args.action <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span>update<span class="pl-pds">'</span></span>;
            <span class="pl-c"><span class="pl-pdc">//</span> update it</span>
            <span class="pl-s">var</span> record <span class="pl-ko">=</span> args.data.view.purchase.records[<span class="pl-cn">0</span>].columns;
            record.deleted <span class="pl-ko">=</span> <span class="pl-c1">true</span>;
            record.deleted_at <span class="pl-ko">=</span> now;
        }
    }
    next();
}</pre></div>

<h3>
<a id="postsave-args" class="anchor" href="#postsave-args" aria-hidden="true"><span class="octicon octicon-link"></span></a>postSave args</h3>

<ul>
<li>
<strong>action</strong> - <code>insert|update|remove</code>
</li>
<li>
<strong>name</strong> - this table's name</li>
<li>
<strong>slug</strong> - this table's slug</li>
<li>
<p><strong>data</strong> - data submitted via POST request or select'ed from the database</p>

<ul>
<li>
<strong>view</strong> - this table's data (the one currently shown inside the <em>editview</em>)</li>
<li>
<p><strong>oneToOne | manyToOne</strong> - inline tables data</p>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>table's name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>records<span class="pl-pds">"</span></span><span class="pl-ko">:</span> [
        <span class="pl-s1"><span class="pl-pds">"</span>columns<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {<span class="pl-s1"><span class="pl-pds">"</span>column's name<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>column's value<span class="pl-pds">"</span></span>, ...},
        <span class="pl-s1"><span class="pl-pds">"</span>insert|update|remove<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-pdc">//</span> only for inline records</span>
    ]
}</pre></div>
</li>
</ul>
</li>
<li>
<strong>upath</strong> - absolute path to the upload folder location</li>
<li>
<strong>upload</strong> - list of files submitted via POST request</li>
<li>
<strong>db</strong> - database connection instance</li>
</ul>

<h4>
<a id="examples-1" class="anchor" href="#examples-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>examples</h4>

<h5>
<a id="upload-files-to-a-third-party-server" class="anchor" href="#upload-files-to-a-third-party-server" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>upload files to a third party server</em>
</h5>

<ul>
<li>in this example our table will be called <code>item</code>
</li>
<li>the item's table <code>image</code>'s column control type should be set to <code>file:true</code> in <code>settings.json</code>
</li>
<li>use the code below to upload the image, after the record is saved</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> cloudinary <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>cloudinary<span class="pl-pds">'</span></span>),
    fs <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>fs<span class="pl-pds">'</span></span>),
    path <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>path<span class="pl-pds">'</span></span>);
cloudinary.config({
    cloud_name<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    api_key<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
    api_secret<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>
});
<span class="pl-sc">exports</span>.<span class="pl-enf">postSave</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.name <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>item<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> file upload control data</span>
        <span class="pl-s">var</span> image <span class="pl-ko">=</span> args.upload.view.item.records[<span class="pl-cn">0</span>].columns.image;
        <span class="pl-c"><span class="pl-pdc">//</span> in case file is chosen through the file input control</span>
        <span class="pl-k">if</span> (image.name) {
            <span class="pl-c"><span class="pl-pdc">//</span> file name of the image already uploaded to the upload folder</span>
            <span class="pl-s">var</span> fname <span class="pl-ko">=</span> args.data.view.item.records[<span class="pl-cn">0</span>].columns.image;
            <span class="pl-c"><span class="pl-pdc">//</span> upload</span>
            <span class="pl-s">var</span> fpath <span class="pl-ko">=</span> path.<span class="pl-sf">join</span>(args.upath, fname);
            cloudinary.uploader.upload(fpath, <span class="pl-s">function</span> (<span class="pl-vpf">result</span>) {
                console<span class="pl-sf">.log</span>(result);
                next();
            });
        }
        <span class="pl-k">else</span> next();
    }
    <span class="pl-k">else</span> next();
}</pre></div>

<h3>
<a id="prelist-args" class="anchor" href="#prelist-args" aria-hidden="true"><span class="octicon octicon-link"></span></a>preList args</h3>

<ul>
<li>
<strong>name</strong> - this table's name</li>
<li>
<strong>slug</strong> - this table's slug</li>
<li>
<strong>filter</strong> - filter data submitted via POST request

<ul>
<li>
<strong>columns</strong> - list of columns (and their values) to filter by</li>
<li>
<strong>direction</strong> - sort order direction</li>
<li>
<strong>order</strong> - column names by which to order</li>
<li>
<strong>or</strong> - <code>true|false</code> whether to use logical <em>or</em> or not</li>
</ul>
</li>
<li>
<strong>statements</strong> - sql query strings partials

<ul>
<li>
<strong>columns</strong> - columns to select</li>
<li>
<strong>table</strong> - table to select from</li>
<li>
<strong>join</strong> - join statements</li>
<li>
<strong>where</strong> - where statements</li>
<li>
<strong>group</strong> - group by statements</li>
<li>
<strong>order</strong> - order statements</li>
<li>
<strong>from</strong> - limit from number</li>
<li>
<strong>to</strong> - limit to number</li>
</ul>
</li>
<li>
<strong>db</strong> - database connection instance</li>
</ul>

<h4>
<a id="examples-2" class="anchor" href="#examples-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>examples</h4>

<h5>
<a id="soft-deleted-records" class="anchor" href="#soft-deleted-records" aria-hidden="true"><span class="octicon octicon-link"></span></a><em>soft deleted records</em>
</h5>

<ul>
<li>check out the <em>preSave</em> example about <em>soft deleted records</em> above</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-sc">exports</span>.<span class="pl-enf">preList</span> <span class="pl-ko">=</span> <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>, <span class="pl-vpf">args</span>, <span class="pl-vpf">next</span>) {
    <span class="pl-k">if</span> (args.name <span class="pl-ko">==</span> <span class="pl-s1"><span class="pl-pds">'</span>purchase<span class="pl-pds">'</span></span>) {
        <span class="pl-c"><span class="pl-pdc">//</span> check if we're using listview's filter</span>
        <span class="pl-c"><span class="pl-pdc">//</span> and actually want to see soft deleted records</span>
        <span class="pl-s">var</span> filter <span class="pl-ko">=</span> args.filter.columns;
        <span class="pl-k">if</span> (filter <span class="pl-ko">&amp;&amp;</span> (filter.deleted<span class="pl-ko">==</span><span class="pl-s1"><span class="pl-pds">'</span>1<span class="pl-pds">'</span></span> <span class="pl-ko">||</span> filter.deleted_at <span class="pl-ko">&amp;&amp;</span> filter.deleted_at[<span class="pl-cn">0</span>])) {
            <span class="pl-k">return</span> next();
        }
        <span class="pl-c"><span class="pl-pdc">//</span> otherwise hide the soft deleted records by default</span>
        <span class="pl-s">var</span> filter <span class="pl-ko">=</span> 
            <span class="pl-s1"><span class="pl-pds">'</span> `purchase`.`deleted` IS NULL OR `purchase`.`deleted` = 0<span class="pl-pds">'</span></span> <span class="pl-ko">+</span>
            <span class="pl-s1"><span class="pl-pds">'</span> OR `purchase`.`deleted_at` IS NULL <span class="pl-pds">'</span></span>;
        args.statements.where
            <span class="pl-ko">?</span> args.statements.where <span class="pl-ko">+=</span> <span class="pl-s1"><span class="pl-pds">'</span> AND <span class="pl-pds">'</span></span> <span class="pl-ko">+</span> filter
            <span class="pl-ko">:</span> args.statements.where <span class="pl-ko">=</span> <span class="pl-s1"><span class="pl-pds">'</span> WHERE <span class="pl-pds">'</span></span> <span class="pl-ko">+</span> filter
    }
    next();
}</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="embedding" class="anchor" href="#embedding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Embedding</h2>

<p>Inside the <code>config.json</code> file, under the <code>app</code> key, include an additional <code>root</code> key, specifying the root mount point for your embedded <em>Express Admin</em> application.</p>

<h3>
<a id="configjson" class="anchor" href="#configjson" aria-hidden="true"><span class="octicon octicon-link"></span></a>config.json</h3>

<div class="highlight highlight-js"><pre><span class="pl-s1"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span><span class="pl-ko">:</span> {
    ...
    <span class="pl-s1"><span class="pl-pds">"</span>root<span class="pl-pds">"</span></span><span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">"</span>/some-path<span class="pl-pds">"</span></span>
}</pre></div>

<h3>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<p>In this example <em>Express Admin</em> will be located under the <code>/admin</code> path of your app.</p>

<div class="highlight highlight-js"><pre><span class="pl-s">var</span> express <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>express<span class="pl-pds">'</span></span>),
    xAdmin <span class="pl-ko">=</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>express-admin<span class="pl-pds">'</span></span>);

<span class="pl-s">var</span> config <span class="pl-ko">=</span> {
    dpath<span class="pl-ko">:</span> <span class="pl-s1"><span class="pl-pds">'</span>./express-admin-config/<span class="pl-pds">'</span></span>,
    config<span class="pl-ko">:</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>./express-admin-config/config.json<span class="pl-pds">'</span></span>),
    settings<span class="pl-ko">:</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>./express-admin-config/settings.json<span class="pl-pds">'</span></span>),
    custom<span class="pl-ko">:</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>./express-admin-config/custom.json<span class="pl-pds">'</span></span>),
    users<span class="pl-ko">:</span> <span class="pl-sf">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>./express-admin-config/users.json<span class="pl-pds">'</span></span>)
};

xAdmin.init(config, <span class="pl-s">function</span> (<span class="pl-vpf">err</span>, <span class="pl-vpf">admin</span>) {
    <span class="pl-k">if</span> (err) <span class="pl-k">return</span> console<span class="pl-sf">.log</span>(err);
    <span class="pl-c"><span class="pl-pdc">//</span> web site</span>
    <span class="pl-s">var</span> app <span class="pl-ko">=</span> express();
    <span class="pl-c"><span class="pl-pdc">//</span> mount express-admin before any other middlewares</span>
    app.use(<span class="pl-s1"><span class="pl-pds">'</span>/admin<span class="pl-pds">'</span></span>, admin);
    <span class="pl-c"><span class="pl-pdc">//</span> site specific middlewares</span>
    app.use(express.bodyParser());
    <span class="pl-c"><span class="pl-pdc">//</span> site routes</span>
    app.get(<span class="pl-s1"><span class="pl-pds">'</span>/<span class="pl-pds">'</span></span>, <span class="pl-s">function</span> (<span class="pl-vpf">req</span>, <span class="pl-vpf">res</span>) {
        res.<span class="pl-sf">send</span>(<span class="pl-s1"><span class="pl-pds">'</span>Hello World<span class="pl-pds">'</span></span>);
    });
    <span class="pl-c"><span class="pl-pdc">//</span> site server</span>
    app.listen(<span class="pl-cn">3000</span>, <span class="pl-s">function</span> () {
        console<span class="pl-sf">.log</span>(<span class="pl-s1"><span class="pl-pds">'</span>My awesome site listening on port 3000<span class="pl-pds">'</span></span>);
    });
});</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="themes" class="anchor" href="#themes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Themes</h2>

<p>Use the <code>Themes</code> button to switch between the themes.</p>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="tools" class="anchor" href="#tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tools</h2>

<h3>
<a id="shell" class="anchor" href="#shell" aria-hidden="true"><span class="octicon octicon-link"></span></a>Shell</h3>

<h4>
<a id="debugging" class="anchor" href="#debugging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Debugging</h4>

<p>Set a <code>breakpoint</code> somewhere inside your custom view files and debug as usual.</p>

<div class="highlight highlight-bash"><pre>$ admin --debug-brk path/to/project/config/
<span class="pl-c"><span class="pl-pdc">#</span> or</span>
$ node --debug-brk path/to/express-admin/app path/to/project/config/</pre></div>

<h4>
<a id="supervisor" class="anchor" href="#supervisor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Supervisor</h4>

<p>Auto reload your project while configuring it using <a href="https://github.com/isaacs/node-supervisor">supervisior</a></p>

<p>Create a folder for your project's configuration files.</p>

<div class="highlight highlight-bash"><pre>$ mkdir project</pre></div>

<p>Then while you're still there you can use <code>supervisor</code> to watch your <code>project</code> folder, specifying that the extensions are <code>json</code></p>

<div class="highlight highlight-bash"><pre>$ supervisor -w project -e json -- path/to/express-admin/app -v project/</pre></div>

<p>The <code>-v</code> flag that you're passing to the <em>Express Admin</em> app means that you are running the admin in <code>development</code> mode. In this mode the authentication and the database record updates are disabled.</p>

<p>Additionally you can pass the <code>-l</code> flag as well, which will <code>log</code> out all sql queries that <em>Express Admin</em> generates.</p>

<h4>
<a id="forever" class="anchor" href="#forever" aria-hidden="true"><span class="octicon octicon-link"></span></a>Forever</h4>

<p>Run an admin instance continuously in the background using <a href="https://github.com/nodejitsu/forever">forever</a></p>

<div class="highlight highlight-bash"><pre>$ forever start path/to/express-admin/app path/to/project/config/</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="tools" class="anchor" href="#tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tools</h2>

<h3>
<a id="nginx" class="anchor" href="#nginx" aria-hidden="true"><span class="octicon octicon-link"></span></a>NginX</h3>

<p>You can serve all your static files with <a href="http://nginx.org/en/">NginX</a></p>

<div class="highlight highlight-bash"><pre>server {
    listen 80<span class="pl-ko">;</span>

    <span class="pl-c"><span class="pl-pdc">#</span> vhost</span>
    server_name admin.example.com<span class="pl-ko">;</span>

    <span class="pl-c"><span class="pl-pdc">#</span>log</span>
    access_log /var/log/nginx/admin-access.log<span class="pl-ko">;</span>
    error_log /var/log/nginx/admin-error.log debug<span class="pl-ko">;</span>

    <span class="pl-c"><span class="pl-pdc">#</span> NODE</span>
    location / {
        proxy_pass http://127.0.0.1:3000<span class="pl-ko">;</span>
        proxy_set_header Host <span class="pl-v"><span class="pl-pdv">$</span>http_host</span><span class="pl-ko">;</span>
        proxy_set_header X-Real-IP <span class="pl-v"><span class="pl-pdv">$</span>remote_addr</span><span class="pl-ko">;</span>
        proxy_set_header X-Forwarded-For <span class="pl-v"><span class="pl-pdv">$</span>proxy_add_x_forwarded_for</span><span class="pl-ko">;</span>
    }

    <span class="pl-c"><span class="pl-pdc">#</span> NGINX</span>

    <span class="pl-c"><span class="pl-pdc">#</span> static</span>
    location <span class="pl-ko">~</span> <span class="pl-cce">\.</span>(jpg<span class="pl-ko">|</span>jpeg<span class="pl-ko">|</span>png<span class="pl-ko">|</span>gif<span class="pl-ko">|</span>swf<span class="pl-ko">|</span>flv<span class="pl-ko">|</span>mp4<span class="pl-ko">|</span>mov<span class="pl-ko">|</span>avi<span class="pl-ko">|</span>wmv<span class="pl-ko">|</span>m4v<span class="pl-ko">|</span>mkv<span class="pl-ko">|</span>ico<span class="pl-ko">|</span>css<span class="pl-ko">|</span>js<span class="pl-ko">|</span>txt<span class="pl-ko">|</span>html<span class="pl-ko">|</span>htm)$ {
        root /<span class="pl-ko">;</span>
        try_files
            <span class="pl-c"><span class="pl-pdc">#</span> express admin</span>
            /absolute/path/to/express-admin/public/<span class="pl-v"><span class="pl-pdv">$</span>uri</span>

            <span class="pl-c"><span class="pl-pdc">#</span> custom views</span>
            /absolute/path/to/your/project/custom/app1/public/<span class="pl-v"><span class="pl-pdv">$</span>uri</span>
            /absolute/path/to/your/project/custom/app2/public/<span class="pl-v"><span class="pl-pdv">$</span>uri</span>
        /<span class="pl-ko">;</span>
    }

    <span class="pl-c"><span class="pl-pdc">#</span> LIBS</span>

    <span class="pl-c"><span class="pl-pdc">#</span> csslib</span>
    location ^~ /csslib/ {
        <span class="pl-sf">alias</span> /absolute/path/to/express-admin/node_modules/express-admin-static/csslib/<span class="pl-ko">;</span>
    }
    <span class="pl-c"><span class="pl-pdc">#</span> jslib</span>
    location ^~ /jslib/ {
        <span class="pl-sf">alias</span> /absolute/path/to/express-admin/node_modules/express-admin-static/jslib/<span class="pl-ko">;</span>
    }
    <span class="pl-c"><span class="pl-pdc">#</span> bootswatch</span>
    location ^~ /bootswatch/ {
        <span class="pl-sf">alias</span> /absolute/path/to/express-admin/node_modules/express-admin-static/bootswatch/<span class="pl-ko">;</span>
    }
}</pre></div>
<p><br /></p><hr /></div><div class="file"><h2>
<a id="tools" class="anchor" href="#tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tools</h2>

<h3>
<a id="apache" class="anchor" href="#apache" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apache</h3>

<p>In case some of your custom view's requests needs to be handled by <a href="http://httpd.apache.org/">Apache</a>, then add this to the nginx vhost file.</p>

<div class="highlight highlight-bash"><pre><span class="pl-c"><span class="pl-pdc">#</span> apache</span>
location /some-slug/ {
    proxy_pass http://127.0.0.1:8008/some-slug/<span class="pl-ko">;</span>
    proxy_set_header Host <span class="pl-v"><span class="pl-pdv">$</span>http_host</span><span class="pl-ko">;</span>
    proxy_set_header X-Real-IP <span class="pl-v"><span class="pl-pdv">$</span>remote_addr</span><span class="pl-ko">;</span>
    proxy_set_header X-Forwarded-For <span class="pl-v"><span class="pl-pdv">$</span>proxy_add_x_forwarded_for</span><span class="pl-ko">;</span>
}</pre></div>

<p>Edit <code>/etc/apache2/ports.conf</code>.</p>

<div class="highlight highlight-bash"><pre><span class="pl-c"><span class="pl-pdc">#</span> When nginx is set as proxy</span>
NameVirtualHost 127.0.0.1:8008
Listen 127.0.0.1:8008</pre></div>

<p>Create apache's virtual host file.</p>

<div class="highlight highlight-bash"><pre><span class="pl-ko">&lt;</span>VirtualHost 127.0.0.1:<span class="pl-ko">8008&gt;</span>
    ServerAdmin admin@localhost
    <span class="pl-c"><span class="pl-pdc">#</span> apache's vhost name MUST MATCH the nginx's vhost name</span>
    ServerName admin.example.com
    ServerAlias admin.example.com
    <span class="pl-c"><span class="pl-pdc">#</span> some aliases etc.</span>
    Alias /some-slug /path/to/some/dir
    <span class="pl-ko">&lt;</span>Location /some-slug<span class="pl-ko">&gt;</span>
        <span class="pl-c"><span class="pl-pdc">#</span> some options ...</span>
    <span class="pl-ko">&lt;</span>/Location<span class="pl-ko">&gt;</span>
    <span class="pl-c"><span class="pl-pdc">#</span> log</span>
    ErrorLog /var/log/apache2/admin-error.log
    CustomLog /var/log/apache2/admin-access.log combined
<span class="pl-ko">&lt;</span>/VirtualHost<span class="pl-ko">&gt;</span></pre></div>
</div>	
    <nav id="navigation" class="repository-sidebar">
        <ul>
            <li><a href="#express-admin">Express Admin</a></li>
            <li><a href="#install">Install</a></li>
            <li><a href="#configuration">Configuration</a>
                <ul>
                    <li><a href="#configjson">config.json</a></li>
                    <li><a href="#settingsjson">settings.json</a></li>
                    <li><a href="#customjson">custom.json</a></li>
                </ul>
            </li>
            <li><a href="#relationships">Relationships</a>
                <ul>
                    <li><a href="#one-to-many">one to many</a></li>
                    <li><a href="#many-to-many">many to many</a></li>
                    <li><a href="#many-to-one">many to one</a></li>
                    <li><a href="#one-to-one">one to one</a></li>
                </ul>
            </li>
            <li><a href="#compound-primary-key">Compound PK</a></li>
            <li><a href="#editors">Editors</a>
                <ul>
                    <li><a href="#ckeditor">ckeditor</a></li>
                    <li><a href="#tinymce">tinymce</a></li>
                    <li><a href="#multiple">multiple</a></li>
                </ul>
            </li>
            <li><a href="#custom-views-apps">Custom</a>
                <ul>
                    <li><a href="#custom-views-apps">Views (Apps)</a></li>
                    <li><a href="#events">Events</a></li>
                    <li><a href="#embedding">Embedding</a></li>
                </ul>
            </li>
            <li><a href="#themes">Themes</a></li>
            <li><a href="#tools">Tools</a>
                <ul>
                    <li><a href="#shell">shell</a></li>
                    <li><a href="#nginx">nginx</a></li>
                    <li><a href="#apache">apache</a></li>
                </ul>
            </li>
        </ul>
    </nav>

        <a href="https://github.com/simov/express-admin" id="code" target="_blank">view on GitHub</a>
    </div>
</body>
</html>